@(course: Course, data: ExamAPI)(implicit request: RequestHeader, flash: Flash)
@import common.formatDouble

@colColor(status: String) = @{
  if (status == "Pass") {
    "table-success"
  } else {
    "table-danger"
  }
}

@action = {
<a class="btn btn-primary"
   href="@routes.ExamController.newImport(course.id)">Import
   Exam</a>
}

@main(course.title) {
@common.card(course.title)(action) {
<table class="table table-bordered table-sm">
  <thead>
    <tr>
      <th>Name</th>
      <th class="text-center">Marks (@data.total marks)</th>
      <th class="text-center">Weightage (@data.weightage%)</th>
      <th class="text-center">Status</th>
    </tr>
  </thead>
  <tbody>
    @for((id, d) <- data.examDetails) {
    <tr>
      <td>
        <a href="@routes.StudentController.show(d.student.id)">
          @d.student.name
        </a>
      </td>
      <td class="text-center">
        @d.exam._1
      </td>
      <td class="text-center">
        @{f"${d.exam._2}%1.1f"}%
      </td>

      <td class="text-center @colColor(d.exam._3)">
        @d.exam._3
      </td>
    </tr>
    }
    <tr class="text-center">
      <td>
      </td>
      <td>
        <strong>Average: </strong>
        @{f"${data.statistic.averageMark}%1.1f"}
      </td>
      <td>
        <strong>Average: </strong>
        @{f"${data.statistic.averageWeightage}%1.1f"}%
      </td>
      <td>
        <strong>Pass / Fail: </strong>
        @data.statistic.passCount / @data.statistic.failCount
      </td>
    </tr>
  </tbody>
</table>

<h4>Overall Descriptive Statistic:</h4>
<p class="blockquote"><em>Based on total marks.</em></p>

<div class="table-responsive">
  <table class="table table-bordered table-responsive table-sm w-auto">
    <tr>
      <th>Max score: </th>
      <td>@formatDouble(data.descStat.max)</td>
    </tr>
    <tr>
      <th>Mean: </th>
      <td>@formatDouble(data.descStat.mean)</td>
    </tr>
    <tr>
      <th>Median: </th>
      <td>@formatDouble(data.descStat.median)</td>
    </tr>
    <tr>
      <th>Mode: </th>
      <td>@formatDouble(data.descStat.mode)</td>
    </tr>
    <tr>
      <th>Standard Deviation: </th>
      <td>@formatDouble(data.descStat.standardDeviation)</td>
    </tr>
    <tr>
      <th>Variance: </th>
      <td>@formatDouble(data.descStat.variance)</td>
    </tr>
  </table>
</div>
}
}
